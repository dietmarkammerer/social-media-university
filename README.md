# social-media-university
This SPARQL Query for wikidata written in Python selects all social media accounts from universities (`?uni wdt:P31/wdt:P279* wd:Q875538`) in Germany (`?uni wdt:P17 wd:Q183.`) as documented in Wikidata.  
Output is JSON. The output can be further analyzed by piping it to [jq](https://jqlang.github.io/jq/)

## Usage
`$ python3 wikidata-social-media-university.py | jq .`

## Requirements
- [sparqlwrapper](https://rdflib.github.io/sparqlwrapper/)
- json

## Query as URL
https://query.wikidata.org/sparql?query=SELECT%20%3Funi%20%3FuniLabel%0A%20%20%20%20%20%20(IRI(MIN(STR(%3Fwebsites)))%20as%20%3Fwebsite)%20%23%20only%20one%20result%20per%20university%20is%20needed%0A%20%20%20%20%20%20(IRI(MIN(STR(%3FmastodonUrls)))%20as%20%3FmastodonUrl)%0A%20%20%20%20%20%20(IRI(MIN(STR(%3FxUris)))%20as%20%3FxUri)%0A%20%20%20%20%20%20(IRI(MIN(STR(%3FfacebookUrls)))%20as%20%3FfacebookUrl)%0A%20%20%20%20%20%20(IRI(MIN(STR(%3FlinkedInUrls)))%20as%20%3FlinkedInUrl)%0A%20%20%20%20%20%20(IRI(MIN(STR(%3FinstagramUrls)))%20as%20%3FinstagramUrl)%0A%20%20%20%20%20%20(IRI(MIN(STR(%3FblueskyUrls)))%20as%20%3FblueskyUrl)%0A%20%20%20%20%20%20(IRI(MIN(STR(%3FtiktokUrls)))%20as%20%3FtiktokUrl)%0A%20%20%20%20%20%20(IRI(MIN(STR(%3FYouTubeUrls)))%20as%20%3FYouTubeUrl)%0A%0AWHERE%0A%7B%0A%20%20%3Funi%20wdt%3AP31%2Fwdt%3AP279*%20wd%3AQ875538%3B%0A%20%20%20%20%20%20%20wdt%3AP17%20wd%3AQ183%3B%0A%20%20%20%20%20%20%20wdt%3AP856%20%3Fwebsites.%0A%20%20%0A%20%20%20MINUS%20%7B%20%3Funi%20wdt%3AP361%20%3Fsome.%20%7D%0A%20%20%0A%20%20%23%20mastodon%0A%20%20OPTIONAL%20%7B%20%3Funi%20wdt%3AP4033%20%3Fmastodon.%20%7D%0A%20%20%20%20BIND(REPLACE(STR(%3Fmastodon)%2C%20'.*%40'%2C'')%20as%20%3FmastodonDomain)%0A%20%20%20%20BIND(REPLACE(STR(%3Fmastodon)%2C%20'%40.*'%2C'')%20as%20%3FmastodonName)%0A%20%20%20%20BIND(IRI(CONCAT('https%3A%2F%2F'%2C%20%3FmastodonDomain%2C%20'%2F%40'%2C%20%3FmastodonName))%20as%20%3FmastodonUrls%20)%0A%20%20%0A%20%20%23%20X%20%2F%20twitter%0A%20%20OPTIONAL%20%7B%20%3Funi%20wdt%3AP2002%20%3Fx.%20%7D%0A%20%20%20%20BIND(IRI(CONCAT('https%3A%2F%2Fx.com%2F'%2C%3Fx))%20as%20%3FxUris%20)%0A%20%20%0A%20%20%23%20facebook%0A%20%20OPTIONAL%20%7B%20%3Funi%20wdt%3AP2013%20%3Ffacebook.%20%7D%0A%20%20%20%20BIND(IRI(CONCAT('https%3A%2F%2Fwww.facebook.com%2F'%2C%20%3Ffacebook))%20as%20%3FfacebookUrls%20)%0A%20%20%0A%20%20%23%20LinkedIn%0A%20%20OPTIONAL%20%7B%20%3Funi%20wdt%3AP4264%20%3FlinkedIn.%20%7D%0A%20%20%20%20BIND(IRI(CONCAT('https%3A%2F%2Fwww.linkedin.com%2Fcompany%2F'%2C%20%3FlinkedIn))%20as%20%3FlinkedInUrls%20)%0A%20%20%0A%20%20%23%20Instagram%0A%20%20OPTIONAL%20%7B%20%3Funi%20wdt%3AP2003%20%3Finstagram.%7D%0A%20%20%20%20BIND(IRI(CONCAT('https%3A%2F%2Fwww.instagram.com%2F'%2C%20%3Finstagram))%20as%20%3FinstagramUrls%20)%0A%20%20%0A%20%20%23%20BlueSky%0A%20%20OPTIONAL%20%7B%20%3Funi%20wdt%3AP12361%20%3Fbluesky.%20%7D%0A%20%20%20%20BIND(IRI(CONCAT('https%3A%2F%2Fbsky.app%2Fprofile%2F'%2C%20%3Fbluesky))%20as%20%3FblueskyUrls%20)%0A%20%20%0A%20%20%23%20TikTok%0A%20%20OPTIONAL%20%7B%20%3Funi%20wdt%3AP7085%20%3Ftiktok.%20%7D%0A%20%20%20%20BIND(IRI(CONCAT('https%3A%2F%2Fwww.tiktok.com%2F%40'%2C%20%3Ftiktok))%20as%20%3FtiktokUrls%20)%0A%20%20%0A%20%20%23%20YouTube%0A%20%20OPTIONAL%20%7B%20%3Funi%20wdt%3AP2397%20%3FYouTube.%7D%0A%20%20%20BIND(IRI(CONCAT(%22https%3A%2F%2Fwww.youtube.com%2Fchannel%2F%22%2C%20STR(%20%3FYouTube%20)))%20AS%20%3FYouTubeUrls%20)%20.%0A%20%20%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22%5BAUTO_LANGUAGE%5D%2Cmul%2Cen%22.%20%7D%0A%7D%0A%0AGROUP%20BY%20%3Funi%20%3FuniLabel
